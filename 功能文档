一、用户认证系统功能说明
1.1 学生注册功能
学号验证：系统验证学号唯一性，防止重复注册

密码安全：使用bcrypt算法加密存储密码，确保账户安全

信息完整：要求填写用户名、密码、紧急联系人等必要信息

角色分配：自动分配"student"角色，区分普通用户和管理员

数据校验：前端和后端双重验证，确保数据格式正确

1.2 用户登录功能
身份验证：比对学号和加密密码，验证用户身份

角色识别：自动识别学生和管理员，跳转到对应界面

会话管理：使用JWT令牌管理登录状态，支持自动登录

安全保护：登录失败次数限制，防止暴力破解攻击

状态持久：本地存储登录状态，关闭页面后仍保持登录

1.3 权限管理功能
界面隔离：学生和管理员看到完全不同的功能界面

路由保护：未登录用户自动跳转到登录页面

功能限制：基于角色控制可访问的功能模块

会话超时：长时间无操作自动退出登录状态

二、AI心理对话功能说明
2.1 智能对话交互
实时通信：基于HTTP协议的实时消息发送和接收

消息存储：所有对话内容保存到数据库，支持历史查看

界面设计：仿微信聊天界面，用户消息在右，AI回复在左

输入控制：支持多行文本输入，有字数统计和限制

状态反馈：发送中状态提示，确保用户知道操作状态

2.2 情感分析处理
实时分析：对每条用户消息进行情感分数计算（0-1分）

情感分类：根据分数分为积极（>0.6）、一般（0.4-0.6）、消极（<0.4）

风险识别：检测极端情绪词汇，识别心理危机风险

数据记录：情感分数与对话内容关联存储，用于后续分析

2.3 危机预警机制
关键词检测：预设自杀、自残等危险词汇库

自动预警：检测到危机言论自动创建紧急记录

联系人通知：模拟向紧急联系人发送预警信息

管理员通知：系统控制台打印预警信息，供管理员处理

界面提示：前端显示紧急求助热线和资源

2.4 对话体验优化
快速回复：提供预设的常见问题，点击即可发送

输入引导：清晰的输入框提示文字，引导用户表达

加载状态：AI思考时显示打字动画，提升等待体验

滚动优化：新消息自动滚动到可视区域

错误处理：网络异常时的友好提示和重试机制

三、情感分析可视化功能说明
3.1 情绪数据展示
趋势图表：使用Canvas绘制情绪分数的时间折线图

时间筛选：支持近7天、近30天、近3个月不同时间范围

数据点标记：图表显示具体的数据点和数值

坐标标识：清晰的X轴（时间）和Y轴（情绪分数）标签

网格辅助：背景网格线帮助准确读取数值

3.2 情感洞察分析
统计计算：自动计算平均情绪分、积极天数、消极天数

状态评估：根据平均分给出情绪状态评价（良好/一般/关注）

趋势分析：判断情绪变化趋势（改善/稳定/下降）

个性化建议：基于情绪状态提供具体的改善建议

3.3 详细记录管理
时间线展示：按时间倒序列出所有情感分析记录

内容关联：每条记录显示对应的对话内容摘要

分数可视化：用彩色进度条直观显示情绪分数

分类标识：不同情感状态使用不同颜色标识

空状态处理：无数据时显示友好的提示信息

四、心理健康知识库功能说明
4.1 文章内容管理
列表展示：卡片式文章列表，显示标题、摘要、分类等信息

分类筛选：按压力管理、睡眠健康等分类筛选文章

搜索功能：关键词搜索文章标题和内容

详情浏览：完整的文章内容页面，支持长文阅读

元数据展示：显示作者、发布时间、阅读量等信息

4.2 知识分类体系
分类导航：使用图标和文字展示8个主要分类

视觉区分：不同分类使用不同的图标和颜色

内容覆盖：涵盖学生常见的各类心理健康问题

快速切换：点击分类标签快速切换内容

4.3 个性化服务
推荐机制：首页显示精选推荐文章

收藏功能：支持收藏感兴趣的文章，爱心图标标识

阅读统计：记录文章阅读次数，显示热门内容

标签系统：文章支持多个标签，方便内容关联

五、紧急求助功能说明
5.1 紧急热线服务
热线展示：醒目显示心理危机干预热线号码

一键拨打：点击直接调用系统拨号功能

说明信息：提供热线服务时间和内容说明

备用资源：显示多个求助热线，确保资源可用

5.2 紧急联系人功能
信息显示：显示用户设置的紧急联系人信息

多种联系：支持拨打电话和发送短信两种联系方式

状态管理：未设置联系人时显示设置引导

安全提示：操作前确认，防止误触

5.3 自助急救指导
方法列表：分条列出紧急情况下的自助应对方法

详细说明：每个方法都有具体的操作步骤说明

分类展示：按呼吸放松、环境安全等分类组织内容

实用性强：提供具体可操作的自救技巧

5.4 个人安全计划
计划创建：支持创建和编辑个人安全计划

内容保存：计划内容本地存储，保护隐私

空状态引导：无计划时引导用户创建

格式自由：支持自由文本输入，个性化定制

六、管理后台功能说明
6.1 数据监控看板
数据概览：显示用户总数、今日登录、总对话数等关键指标

图表展示：用户增长趋势的时间序列图表

实时更新：数据动态更新，反映最新状态

视觉设计：使用卡片式设计，重要数据突出显示

6.2 用户管理功能
列表展示：表格形式展示所有用户基本信息

分页支持：大数据量时分页显示，提升性能

信息完整：显示学号、用户名、最后登录时间等

状态标识：清晰标识用户活跃状态

6.3 紧急预警处理
预警列表：显示所有待处理的紧急预警

详细信息：包含触发用户、时间、内容等完整信息

状态管理：支持标记为已处理，更新处理状态

处理记录：记录处理人和处理时间

6.4 系统状态监控
服务状态：监控AI服务、数据库、API服务的运行状态

资源使用：显示存储空间使用情况

可视化标识：使用颜色标识正常/异常状态

进度展示：存储使用情况用进度条直观显示

七、AI集成功能说明
7.1 Ollama模型配置
模型选择：使用deepseek-coder:6.7b作为基础模型

专业调优：针对心理健康场景优化的系统提示词

参数配置：设置temperature、top_p等生成参数

服务集成：通过HTTP API与Ollama服务通信

7.2 情感计算引擎
关键词分析：基于预设的情感词汇库进行匹配

模式识别：使用正则表达式检测危险言论模式

分数计算：综合计算情感倾向和强度

风险分级：根据分析结果确定风险等级

7.3 智能回复生成
上下文管理：维护最近6条对话历史作为上下文

情感适配：根据用户情绪状态调整回复策略

专业内容：确保回复内容符合心理咨询专业标准

错误处理：网络或服务异常时的降级处理

八、系统支撑功能说明
8.1 数据安全保障
传输加密：敏感数据传输使用加密协议

密码加密：用户密码使用bcrypt算法加密存储

权限验证：所有敏感操作都需要身份验证

输入过滤：防止SQL注入和XSS攻击

8.2 性能优化措施
数据库索引：对常用查询字段建立索引

分页查询：大数据量时使用分页避免性能问题

前端优化：组件懒加载、图片压缩等前端优化

错误边界：完善的错误处理和用户提示

8.3 运维监控功能
日志记录：关键操作和异常情况的日志记录

健康检查：系统各组件运行状态监控

错误追踪：前端错误捕获和上报

性能监控：接口响应时间等性能指标监控

九、移动端适配功能说明
9.1 响应式设计
屏幕适配：使用rpx单位，适配不同屏幕尺寸

触摸优化：按钮和交互元素大小适合手指操作

布局适配：小屏幕下的布局调整和内容重组

手势支持：支持滑动、长按等移动端手势

9.2 原生功能集成
拨号功能：直接调用系统电话应用

本地存储：使用uni-app的本地存储API

通知支持：支持系统级通知提醒

权限管理：相机、通讯录等系统权限管理

十、扩展预留功能说明
10.1 接口预留
第三方集成：预留心理咨询师对接接口

数据导出：支持数据导出为常见格式

Webhook：事件触发的外部通知机制

API扩展：易于扩展的新功能接口

10.2 架构扩展性
模块化设计：功能模块独立，便于扩展和维护

配置驱动：关键参数通过配置文件管理

插件机制：支持功能插件化扩展

数据迁移：支持数据库结构和数据的平滑升级
